# Database Schema

This document outlines the database schema for the Stock Management System.

## Tables

### `users`

Stores user accounts.

| Column | Type | Description |
| :--- | :--- | :--- |
| `id` | big-int (unsigned) | Primary key. |
| `name` | varchar(255) | User's name. |
| `email` | varchar(255) | User's email address (unique). |
| `email_verified_at` | timestamp | Timestamp of email verification. |
| `password` | varchar(255) | Hashed password. |
| `remember_token` | varchar(100) | "Remember me" token. |
| `created_at` | timestamp | Timestamp of creation. |
| `updated_at` | timestamp | Timestamp of last update. |

### `products`

Stores product information.

| Column | Type | Description |
| :--- | :--- | :--- |
| `id` | big-int (unsigned) | Primary key. |
| `sku` | varchar(255) | Stock Keeping Unit (unique). |
| `name` | varchar(255) | Product name. |
| `description` | text | Product description. |
| `current_stock` | integer | Current stock quantity. |
| `created_at` | timestamp | Timestamp of creation. |
| `updated_at` | timestamp | Timestamp of last update. |

### `stock_movements`

Logs all stock movements.

| Column | Type | Description |
| :--- | :--- | :--- |
| `id` | big-int (unsigned) | Primary key. |
| `product_id` | big-int (unsigned) | Foreign key to `products.id`. |
| `user_id` | big-int (unsigned) | Foreign key to `users.id`. |
| `type` | enum('in', 'out') | Type of movement. |
| `quantity` | integer | Quantity of the movement. |
| `notes` | text | Additional notes. |
| `created_at` | timestamp | Timestamp of creation. |
| `updated_at` | timestamp | Timestamp of last update. |

### `personal_access_tokens`

Stores API tokens generated by Laravel Sanctum.

| Column | Type | Description |
| :--- | :--- | :--- |
| `id` | big-int (unsigned) | Primary key. |
| `tokenable_type` | varchar(255) | Model type of the token owner. |
| `tokenable_id` | big-int (unsigned) | ID of the token owner. |
| `name` | varchar(255) | Token name. |
| `token` | varchar(64) | The token itself (unique). |
| `abilities` | text | Token abilities (permissions). |
| `last_used_at` | timestamp | Timestamp of last use. |
| `expires_at` | timestamp | Timestamp of expiration. |
| `created_at` | timestamp | Timestamp of creation. |
| `updated_at` | timestamp | Timestamp of last update. |

## Relationships

-   A `User` can have many `StockMovements`.
-   A `Product` can have many `StockMovements`.
-   A `StockMovement` belongs to one `User` and one `Product`.
